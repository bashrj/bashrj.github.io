<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1"><link rel="shortcut icon" href=/favicon.png><link rel=canonical href=https://bashr.me/articles/custom-url-parameters-using-liquid/><script async src=https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js></script><style>code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:0 0;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,andale mono,ubuntu mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}div.code-toolbar{position:relative}div.code-toolbar>.toolbar{position:absolute;z-index:10;top:.3em;right:.2em;transition:opacity .3s ease-in-out;opacity:0}div.code-toolbar:hover>.toolbar{opacity:1}div.code-toolbar:focus-within>.toolbar{opacity:1}div.code-toolbar>.toolbar>.toolbar-item{display:inline-block}div.code-toolbar>.toolbar>.toolbar-item>a{cursor:pointer}div.code-toolbar>.toolbar>.toolbar-item>button{background:0 0;border:0;color:inherit;font:inherit;line-height:normal;overflow:visible;padding:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}div.code-toolbar>.toolbar>.toolbar-item>a,div.code-toolbar>.toolbar>.toolbar-item>button,div.code-toolbar>.toolbar>.toolbar-item>span{color:#bbb;font-size:.8em;padding:0 .5em;background:#f5f2f0;background:rgba(224,224,224,.2);box-shadow:0 2px rgba(0,0,0,.2);border-radius:.5em}div.code-toolbar>.toolbar>.toolbar-item>a:focus,div.code-toolbar>.toolbar>.toolbar-item>a:hover,div.code-toolbar>.toolbar>.toolbar-item>button:focus,div.code-toolbar>.toolbar>.toolbar-item>button:hover,div.code-toolbar>.toolbar>.toolbar-item>span:focus,div.code-toolbar>.toolbar>.toolbar-item>span:hover{color:inherit;text-decoration:none}</style><link rel=stylesheet href=/scss/index.3491335759bbc1e68f21c7659c95e7b2d354182809d4395e0036d6b8f2a2753c.css integrity="sha256-NJEzV1m7weaPIcdlnJXnstNUGCgJ1DleADbWuPKidTw=" crossorigin=anonymous><title>Breaking Shopify with custom URL parameters using Liquid only!
</title><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=fallback" as=style onload='this.onload=null,this.rel="stylesheet"'><script>navigator.userAgent.match(/samsung/i)&&alert(`Your browser (Samsung Internet) may not show this website correctly. Please consider using a standards-compliant browser instead. 

We recommend Firefox, Microsoft Edge, or Google Chrome.`)</script><script>function debounce(e,t){var n=null;return function(){var s=this,o=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(s,o)},t)}}</script><style>#main-article-content hr{border-color:rgba(255,255,255,.4);border-width:2px;margin-bottom:7rem;margin-top:7rem}.row{max-width:100%}#main-article-content pre:not(.d-md-inline),#main-article-content pre:not(.d-inline){outline:#fff auto 1px}#main-article-content .code-toolbar{margin-top:6rem;margin-bottom:6rem}#main-article-content .picture{margin-bottom:4rem}#main-article-content li+li{margin-top:2rem}#main-article-content p+.code-toolbar{margin-top:4rem}#main-article-content b,#main-article-content strong{color:#fff}#main-article-content pre.d-md-inline+* .copy-to-clipboard-button,#main-article-content pre.d-inline+* .copy-to-clipboard-button{display:none}@media(max-width:576px){#main-article-content .copy-to-clipboard-button{display:none}}</style><meta name=description content="Expanding on my previous article on password-protecting pages without Locksmith, I'll show another use case for the novelty method I've discovered that allows developers to pass URL parameters using just Liquid!"><meta name=keywords content="shopify,liquid,ajax,javascript,ur,parameters,technology,novelty,performance,optimization,web,development,security,fullstack,expert,developer,code,editor"><meta name=author content="Bashar A."><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Breaking Shopify with custom URL parameters using Liquid only!"><meta property="og:image" itemprop=image content="https://bashr.me/img/articles/custom-url-parameters-using-liquid/cover_image.png"><meta property="og:image:secure_url" itemprop=image content="https://bashr.me/img/articles/custom-url-parameters-using-liquid/cover_image.png"><meta property="og:description" content="Expanding on my previous article on password-protecting pages without Locksmith, I'll show another use case for the novelty method I've discovered that allows developers to pass URL parameters using just Liquid!"><meta property="og:url" content="https://bashr.me/articles/custom-url-parameters-using-liquid/"><meta property="og:site_name" content="https://bashr.me"><meta property="article:author" content="https://bashr.me"><meta property="article:publisher" content="Bashar A."><meta property="article:published_time" content="2025-02-13 11:58:00 +0200 SAST"><meta property="article:modified_time" content="2025-02-13 11:58:00 +0200 SAST"><meta property="article:tag" content="shopify"><meta property="article:tag" content="liquid"><meta property="article:tag" content="ajax"><meta property="article:tag" content="javascript"><meta property="article:tag" content="ur"><meta property="article:tag" content="parameters"><meta property="article:tag" content="technology"><meta property="article:tag" content="novelty"><meta property="article:tag" content="performance"><meta property="article:tag" content="optimization"><meta property="article:tag" content="web"><meta property="article:tag" content="development"><meta property="article:tag" content="security"><meta property="article:tag" content="fullstack"><meta property="article:tag" content="expert"><meta property="article:tag" content="developer"><meta property="article:tag" content="code"><meta property="article:tag" content="editor"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Breaking Shopify with custom URL parameters using Liquid only!"><meta name=twitter:description content="Expanding on my previous article on password-protecting pages without Locksmith, I'll show another use case for the novelty method I've discovered that allows developers to pass URL parameters using just Liquid!"><meta name=twitter:image content="https://bashr.me/img/articles/custom-url-parameters-using-liquid/cover_image.png"><meta name=twitter:image:alt content="Cover image for the article: Breaking Shopify with custom URL parameters using Liquid only!"><meta name=twitter:site content="https://bashr.me"><meta name=twitter:creator content="Bashar A."><meta name=twitter:url content="https://bashr.me/articles/custom-url-parameters-using-liquid/"><meta name=twitter:label1 content="Written by"><meta name=twitter:data1 content="Bashar A."><meta name=twitter:label2 content="Published on"><meta name=twitter:data2 content="2025/02/13"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Breaking Shopify with custom URL parameters using Liquid only!","image":"https://bashr.me/img/articles/custom-url-parameters-using-liquid/cover_image.png","datePublished":"2025-02-13T11:58:00+02:00","dateModified":"2025-02-13T11:58:00+02:00","author":{"@type":"Person","name":"Bashar A."},"mainEntityOfPage":{"@type":"WebPage"},"publisher":{"@type":"Organization","name":"bashr.me","logo":{"@type":"ImageObject","url":"https://bashr.me/favicon.png"}},"description":"Expanding on my previous article on password-protecting pages without Locksmith, I'll show another use case for the novelty method I've discovered that allows developers to pass URL parameters using just Liquid!","keywords":["shopify","liquid","ajax","javascript","ur","parameters","technology","novelty","performance","optimization","web","development","security","fullstack","expert","developer","code","editor"]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"bashr.me","url":"https://bashr.me/"}</script></head><body><link itemprop=thumbnailUrl href=https://bashr.me/img/site_thumbnail.png><span itemprop=thumbnail itemscope itemtype=http://schema.org/ImageObject><link itemprop=url href=https://bashr.me/img/site_thumbnail.png></span><a href=/ style=min-height:30px><div id=absolute-logo class=position-absolute style=--rgb-shadow-color:var(--bs-primary-rgb)><span class="d-inline d-md-none grad display-5 grad fw-bold">&lt;/ B A S H R . M E>
</span><span class="d-none d-md-inline grad h1 grad fw-bold">&lt;/ B A S H R . M E></span></div></a><div id=filter-container><header style=z-index:1;height:0 class="position-sticky top-0 end-0"><div><div class="row justify-content-between"><div class=col-auto></div><div class=col-auto><nav><div id=menuToggle><input onclick="this.disabled=!0" id=toggler type=checkbox>
<span class=burger></span>
<span class=burger></span>
<span class=burger></span><div id=filter></div><div class="bg-info theme-menu" style=--transition-secs:0.3s></div><div class="bg-white theme-menu" style=--transition-secs:0.5s></div><div class="vgrad theme-menu" style=--transition-secs:0.7s></div><div style=--transition-secs:1s class=theme-menu><div class=position-relative><div class=bg-darker><div id=sidebar-content-container class="container-fluid ms-0 py-5 px-4 px-md-0"><div id=sidebar-content class="d-flex flex-column justify-content-between sidebar-content"><div class="row justify-content-between cap-0 cap-md-0"><div class=col-md-6 style=--rgb-shadow-color:var(--bs-primary-rgb)><nav><ul class="ps-0 list-unstyled d-flex flex-column"><li><a href=/ class="fw-bold display-1">Home</a></li><li><a href=/projects/ class="fw-bold display-1">Projects</a></li><li><a href=/contact/ class="fw-bold display-1">Contact</a></li><li><a href=/articles/ class="fw-bold display-1">Articles</a></li></ul></nav></div></div><div class="row mt-3"><div class="col-md-6 col-sm-9 col-xl-5"><h2 class="fw-bold pb-4 display-4 display-md-6">Where to find me</h2><nav><ul class="ps-0 d-flex flex-column cap-3 flex-wrap nav-ul"><li class="lh-1 d-flex cap-3 align-items-center"><svg fill="#f8f9fa" width="28" viewBox="0 0 24 24"><path d="M12 0C5.374.0.0 5.373.0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931.0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176.0.0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221.0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg><div><a target=_blank class=fs-2 href=https://github.com/bashrj>Github</a></div></li><li class="lh-1 d-flex cap-3 align-items-center"><svg width="28" viewBox="0 0 200 200" preserveAspectRatio="xMidYMid"><path d="M140.107 96.628c-8.321.0-16.118-3.523-23.202-9.258l1.725-8.096.075-.3c1.536-8.62 6.409-23.089 21.402-23.089 11.244.0 20.39 9.146 20.39 20.39-.038 11.207-9.183 20.353-20.39 20.353zm0-61.395c-19.154.0-33.996 12.444-40.03 32.909-9.221-13.831-16.193-30.435-20.278-44.416H59.184v53.636c0 10.57-8.621 19.19-19.191 19.19s-19.19-8.62-19.19-19.19V23.726H.186v53.636c-.075 21.965 17.804 39.993 39.768 39.993 21.965.0 39.844-18.028 39.844-39.993v-8.995c4.01 8.358 8.92 16.791 14.88 24.288l-12.632 59.37h21.103l9.145-43.066c8.021 5.135 17.242 8.359 27.812 8.359 22.601.0 41.005-18.516 41.005-41.118.0-22.564-18.404-40.967-41.005-40.967z" fill="#f8f9fa"/></svg><div><a target=_blank class=fs-2 href=https://www.upwork.com/freelancers/~011f77595b7d445e07>Upwork</a></div></li><li class="lh-1 d-flex cap-3 align-items-center"><svg fill="#f8f9fa" width="28" viewBox="0 0 24 24"><path d="M19 0H5C2.239.0.0 2.239.0 5v14c0 2.761 2.239 5 5 5h14c2.762.0 5-2.239 5-5V5c0-2.761-2.238-5-5-5zM8 19H5V8h3v11zM6.5 6.732c-.966.0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zM20 19h-3v-5.604c0-3.368-4-3.113-4 0V19h-3V8h3v1.765c1.396-2.586 7-2.777 7 2.476V19z"/></svg><div><a target=_blank class=fs-2 href=https://www.linkedin.com/in/bashrj/>LinkedIn</a></div></li><li class="lh-1 d-flex cap-3 align-items-center"><svg width="28" viewBox="-.23 0 97.266 72.333"><path d="M56.897.0l6.624 9.29L97.036.0M22.075 72.333l18.13-17.725-10.912-11.71M54.152.0l-9.69 8.738 16.298.608M16.482.0l3.48 7.133 19.18 1.195M26.75 36.986l14.17-26.434L-.23 8.328M28.4 38.662 41.785 53.04 56.55 38.567l4.582-26.957-17.993-.918" fill="#f8f9fa"/></svg><div><a target=_blank class=fs-2 href=https://freelancer.com/u/bashrj>Freelancer</a></div></li><li class="lh-1 d-flex cap-3 align-items-center"><svg viewbox="0 0 24 24" fill="#f8f9fa" width="28" fill-rule="evenodd" clip-rule="evenodd"><path d="M2.846 6.887c.03-.295-.083-.586-.303-.784l-2.24-2.7V3h6.958l5.378 11.795L17.367 3H24v.403L22.084 5.24c-.165.126-.247.333-.213.538v13.498c-.034.204.048.411.213.537l1.871 1.837v.403h-9.412v-.403l1.939-1.882c.19-.19.19-.246.19-.537V8.321l-5.389 13.688h-.728l-6.275-13.688v9.174c-.052.385.076.774.347 1.052l2.521 3.058v.404h-7.148v-.404l2.521-3.058c.27-.279.39-.67.325-1.052V6.887z"/></svg><div><a target=_blank class=fs-2 href=https://medium.com/@bashrj>Medium</a></div></li></ul></nav></div><div class="col-md pt-5 pt-md-0 d-none d-md-block"><h2 class="fw-bold pb-4 display-4 display-md-6">Recent Projects</h2><nav><ul class="ps-0 d-flex flex-column cap-3"><li class="lh-1 d-flex cap-3 align-items-center"><div class="w-100 d-flex align-items-center"><a class="ellipsis w-100 fs-2" href=/projects/made-by-pivot/><span class=grad>> </span>Made by Pivot | Project Case Stu...</a></div></li><li class="lh-1 d-flex cap-3 align-items-center"><div class="w-100 d-flex align-items-center"><a class="ellipsis w-100 fs-2" href=/projects/marc-gebauer/><span class=grad>> </span>Marc Gebauer Lifestyle | Project...</a></div></li><li class="lh-1 d-flex cap-3 align-items-center"><div class="w-100 d-flex align-items-center"><a class="ellipsis w-100 fs-2" href=/projects/prestige-titles-pdf-generator/><span class=grad>> </span>Prestige Titles PDF Generator | ...</a></div></li><li class="lh-1 d-flex cap-3 align-items-center"><div class="w-100 d-flex align-items-center"><a class="ellipsis w-100 fs-2" href=/projects/winslow-style/><span class=grad>> </span>Winslow Style Tailoring | Projec...</a></div></li></ul></nav></div></div><div class=row><a href=/ style=min-height:30px><span class="d-inline d-md-none grad display-5 fw-boldest">&lt;/ B A S H R . M E>
</span><span class="d-none d-md-inline grad h1 fw-boldest">&lt;/ B A S H R . M E></span></a><h2 class="display-6 fw-bold"><span class="h1 fw-bold">Full Stack Web Developer</span></h2></div></div></div></div></div></div></div></nav></div></div></div></header></div><script>window.addEventListener("load",()=>{document.querySelectorAll(".theme-menu").forEach(e=>{e.classList.add("loaded")})}),document.querySelector("#menuToggle #toggler").addEventListener("click",e=>{e.target.checked?(document.querySelector("html").style.overflowY="hidden",document.querySelector("#filter").classList.add("active")):setTimeout(()=>{document.querySelector("html").style.overflowY="initial",document.querySelector("#filter").classList.remove("active")},750)}),document.querySelector("#menuToggle #toggler").addEventListener("click",debounce(function(e){e.target.disabled=!1},750)),document.querySelector("#filter").addEventListener("click",e=>document.querySelector("#menuToggle #toggler").click())</script><main id=main-content><section id=section-main-project class="px-4 px-lg-0 container-fluid"><div class="row flex-column flex-lg-row justify-content-center cap-lg-5 mt-lg-5 pt-5"><div class=col-lg-6><div class="mb-3 position-sticky project-image"><picture><source media=(min-width:768px) srcset=/img/articles/custom-url-parameters-using-liquid/cover_image_hu_24cbc3d1c1af5661.webp width=900 height=731><img width=445 height=362 class="w-100 h-auto" src=/img/articles/custom-url-parameters-using-liquid/cover_image_hu_4f911f73d9d920d3.webp alt=.></picture></div></div><div class=col-lg-4><div id=article-card-details class="position-sticky d-flex flex-column justify-content-between"><div><p class="display-6 fw-bold d-block d-lg-none d-xl-block">Author<br><span class=grad>Bashar A.</span></p></div><div><div class=card-subheading><p class="fs-1 fw-bold d-block d-lg-none d-xl-block">Published<br><span class=grad>2025/02/13</span></p></div><div class=card-subheading><p class="fs-2 fw-bold d-block d-lg-none d-xl-block">Last updated<br><span class=grad>Feb 13, 2025</span></p></div><div class=card-subheading><p class="fs-1 fw-bold d-block d-lg-none d-xl-block">Category<br><span class=grad>Developer Guide</span></p></div></div></div></div></div><div class="row flex-column flex-lg-row justify-content-center cap-lg-5"><div class=col-lg-6><div class="position-sticky d-flex flex-column justify-content-between top-0 pt-3 pt-lg-5"><div class=pb-0><h1 class="display-3 fw-bold pb-4">Breaking Shopify with custom URL parameters using Liquid only!</h1><div id=main-article-content class="h1 fw-normal" style=color:#e1e1e1><p>If you&rsquo;ve ever done backend web development, you&rsquo;ve probably had to construct your own API endpoints, allowing for URL parameter inputs that can be used in your website/webapp.</p><p>As a dedicated Shopify developer, I&rsquo;ve always wondered if I could somehow do the same in the Shopify ecosystem without the use of any third-party tools, which I&rsquo;ve successfully done using a novelty method I&rsquo;ve talked about in <a href=https://bashr.me/articles/password-protected-pages-without-locksmith/>my previous article</a>.</p><p>In this article, I&rsquo;ll be expanding on that idea by providing another use case for a recent Shopify project I was tasked with.</p><hr><h3 id=the-problem>The problem</h3><p>Everyone knows about Shopify&rsquo;s 100-variant limit, hopefully raised to 1000 in the upcoming releases of Shopify&rsquo;s system updates!</p><p>But in my case, even if Shopify&rsquo;s variant limit was raised to 1000, it would not have been enough for the <b>10064 variants</b> I had to somehow achieve seemingly for 1 product!</p><p>The task was to replicate Hanse Syntec System&rsquo;s EPDM roof film <a href=https://www.hanse-baustoffe.de/0-9-m2-EPDM-Dachfolie-in-1-2-mm-Staerke/D12-090-010>product page</a>, which contained 3 different option selectors, amounting to a total of <b>10064</b> possible option combinations!</p><p>At first I didn&rsquo;t realize it, but this was a perfect use case for the novelty method I&rsquo;ve discovered a while ago.</p><p>Let&rsquo;s dig in&mldr;</p><hr><h3 id=10064-variants>10064 Variants</h3><p>Hanse Syntec System&rsquo;s EPDM roof film <a href=https://www.hanse-baustoffe.de/0-9-m2-EPDM-Dachfolie-in-1-2-mm-Staerke/D12-090-010>product page</a> has 3 different options.</p><p>Option1 had <b>2 choices</b>, Option2 had <b>17 choices</b>, and Option3 had <b>296</b>!!</p><p>2 x 17 x 296 = 10064 combinations!</p><p>The store I was working on was on a Shopify Plus plan, which already begs the question: &ldquo;Why don&rsquo;t you just use <a href=https://github.com/Shopify/function-examples/tree/main/sample-apps/update-line-item/extensions/update-line-item-js>a Shopify function</a> to calculate a price adjustment based on the dimensions?&rdquo;</p><p>While this was also my <u>first idea</u>, it failed to meet 1 specific requirement, which was to give every variant out of the total <b>10064</b> an SKU, and to allow individual inventory management per variant.</p><p>Don&rsquo;t ask me why.</p><hr><h3 id=the-plan>The plan</h3><p>Since <a href=https://shopify.dev/docs/api/functions>Shopify functions</a> were out of the question, I had no other app-less choice but to bulk-create <b>10064 variants</b>, assigning each a unique SKU.</p><p>Which, when added to cart, would correspond to 1 out of the 10064 variants.</p><p>Thanks to the availability of <a href=https://shopify.dev/docs/api/admin-graphql/2025-01/mutations/productVariantsBulkUpdate#top>productVariantsBulkUpdate</a>, <a href=https://shopify.dev/docs/api/admin-graphql/2025-01/mutations/productUpdate#top>productCreate</a>, and a simple shell script for the stagedUpload, I was able to easily create all 10064 variants in 1 fell swoop.</p><p>Now the hard part..</p><p>How should 3 choices <b>&lt;select></b>&rsquo;d by a customer equate to the corresponding variant without making major compromises?</p><p>I certainly did not want the browser parsing through 10064 JSON objects to find a match every time a customer added EPDM roof film products to the cart&mldr;</p><hr><h3 id=in-comes-the-secret-sauce>In comes the secret sauce</h3><p>Inspired by <a href=https://shopify.dev/docs/api/ajax/reference/cart#bundled-section-rendering>Shopify&rsquo;s bundled section rendering</a> mechanism, I decide that it &ldquo;would be cool&rdquo; if I could somehow just <b>ask</b> liquid to find the right variant for me in an AJAX request!</p><p>This is where my imaginary lightbulb went off and I realized that this would be a perfect use case for the novelty method I shared from <a href=https://bashr.me/articles/password-protected-pages-without-locksmith/>my previous article</a></p><p>Let&rsquo;s dig into the code.</p><hr><h3 id=step-1>Step 1</h3><p>First, I set up a test, to see if I could loop through all 10064 variants, to find the right one, here I&rsquo;m using <u>sku</u>, but I could also use <u>option1</u>.</p><div class=picture><picture><source media=(min-width:768px) srcset=/img/articles/custom-url-parameters-using-liquid/the_basic_test_to_find_the_variant_hu_2a3afefce4082817.png width=1200 height=583><img width=460 height=223 class="w-100 h-auto" src=/img/articles/custom-url-parameters-using-liquid/the_basic_test_to_find_the_variant_hu_ae8f3a36db0fe4a9.png alt=.></picture></div><p>Which seems to have worked perfectly fine.</p><div class=picture><picture><source media=(min-width:768px) srcset=/img/articles/custom-url-parameters-using-liquid/the_basic_tests_results_to_find_the_variant_hu_3da6ea0dd736611a.png width=1200 height=434><img width=460 height=166 class="w-100 h-auto" src=/img/articles/custom-url-parameters-using-liquid/the_basic_tests_results_to_find_the_variant_hu_142444e2fa0421c0.png alt=.></picture></div><hr><h3 id=step-2>Step 2</h3><p>Find a way to dynamically pass the SKU variable to that particular piece of liquid code, which would allow me to query any variant using SKU/Option1</p><div class=picture><picture><source media=(min-width:768px) srcset=/img/articles/custom-url-parameters-using-liquid/dynamically_fetching_sku_in_liquid_hu_325a22d241596a94.png width=1200 height=491><img width=460 height=188 class="w-100 h-auto" src=/img/articles/custom-url-parameters-using-liquid/dynamically_fetching_sku_in_liquid_hu_77b218ebf2b82a66.png alt=.></picture></div><p>This is <b>essentially</b> the core of my idea, which is to pass any URL parameter to a collection template, utilizing a collection filter&rsquo;s &ldquo;url_to_remove&rdquo; property</p><p>But there&rsquo;s a problem, the provided input could be <u>anything</u>, and &ldquo;anything&rdquo; in a URL search bar is a bunch of %&rsquo;s.</p><p>Directly using &ldquo;1,5 mm - 5,03 m - 29,2 m&rdquo; in the URL search bar turns it into this -> 1,5%20mm%20-%205,03%20m%20-%2029,2%20m</p><hr><h3 id=step-3>Step 3</h3><p>&ldquo;Sanitize&rdquo; the input by encoding it with Base64 when sending the request, then decode it in liquid before using it!</p><div class=picture><picture><source media=(min-width:768px) srcset=/img/articles/custom-url-parameters-using-liquid/the_final_code_hu_19206608f1cd07fb.png width=1200 height=417><img width=460 height=160 class="w-100 h-auto" src=/img/articles/custom-url-parameters-using-liquid/the_final_code_hu_ce5868221e5ffad5.png alt=.></picture></div><p>Of course, the only reason I&rsquo;m using base64 is because Shopify&rsquo;s liquid has a convenient <a href=https://shopify.dev/docs/api/liquid/filters/base64_decode>base64_decode filter</a></p><p>This is essentially the &ldquo;backend code&rdquo; done</p><pre data-file=templates/collection.10064.liquid>
  <code class=language-liquid>
    
{%- assign filter = collection.filters | first -%}
{%- assign sku = filter.url_to_remove | split: &#39;filter.p.sku=&#39; | last | split: &#39;&amp;view=&#39; | first | url_decode | base64_decode -%}

{%- layout none -%}
{%- paginate collections[collection.handle].products by 4200000 -%}
  {%- for product in collections[collection.handle].products -%}
    {%- assign variant = product.variants | where: &#39;sku&#39;, sku | first -%}
    {%- if variant != blank -%}{{ variant | json }}{%- break -%}{%- endif -%}
  {%- endfor -%}
{%- endpaginate -%}
</code></pre><hr><h3 id=step-4-final-step>Step 4 (final step)</h3><p>Now we&rsquo;re ready to send requets to our new API 😂</p><pre data-file=assets/theme.js>
  <code class=language-liquid>
    
&lt;script&gt;
    /* https://stackoverflow.com/questions/246801/how-can-you-encode-decode-a-string-to-base64-in-javascript#answer-26514148 */
    const Base64={_keyStr:&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=&#34;,encode:function(e){var t=&#34;&#34;;var n,r,i,s,o,u,a;var f=0;e=Base64._utf8_encode(e);while(f&lt;e.length){n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=e.charCodeAt(f++);s=n&gt;&gt;2;o=(n&amp;3)&lt;&lt;4|r&gt;&gt;4;u=(r&amp;15)&lt;&lt;2|i&gt;&gt;6;a=i&amp;63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a)}return t},decode:function(e){var t=&#34;&#34;;var n,r,i;var s,o,u,a;var f=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,&#34;&#34;);while(f&lt;e.length){s=this._keyStr.indexOf(e.charAt(f++));o=this._keyStr.indexOf(e.charAt(f++));u=this._keyStr.indexOf(e.charAt(f++));a=this._keyStr.indexOf(e.charAt(f++));n=s&lt;&lt;2|o&gt;&gt;4;r=(o&amp;15)&lt;&lt;4|u&gt;&gt;2;i=(u&amp;3)&lt;&lt;6|a;t=t+String.fromCharCode(n);if(u!=64){t=t+String.fromCharCode(r)}if(a!=64){t=t+String.fromCharCode(i)}}t=Base64._utf8_decode(t);return t},_utf8_encode:function(e){e=e.replace(/\r\n/g,&#34;\n&#34;);var t=&#34;&#34;;for(var n=0;n&lt;e.length;n++){var r=e.charCodeAt(n);if(r&lt;128){t+=String.fromCharCode(r)}else if(r&gt;127&amp;&amp;r&lt;2048){t+=String.fromCharCode(r&gt;&gt;6|192);t+=String.fromCharCode(r&amp;63|128)}else{t+=String.fromCharCode(r&gt;&gt;12|224);t+=String.fromCharCode(r&gt;&gt;6&amp;63|128);t+=String.fromCharCode(r&amp;63|128)}}return t},_utf8_decode:function(e){var t=&#34;&#34;;var n=0;var r=c1=c2=0;while(n&lt;e.length){r=e.charCodeAt(n);if(r&lt;128){t+=String.fromCharCode(r);n++}else if(r&gt;191&amp;&amp;r&lt;224){c2=e.charCodeAt(n+1);t+=String.fromCharCode((r&amp;31)&lt;&lt;6|c2&amp;63);n+=2}else{c2=e.charCodeAt(n+1);c3=e.charCodeAt(n+2);t+=String.fromCharCode((r&amp;15)&lt;&lt;12|(c2&amp;63)&lt;&lt;6|c3&amp;63);n+=3}}return t}}

    fetch(window.location.origin + &#34;/collections/all?filter.p.sku=&#34; + Base64.encode(sku) + &#34;&amp;view=10064&#34;).then(d =&gt; d.text()).then(data =&gt; {
        if(data.length &gt; 0) {
            let variant = JSON.parse(data);
            ...
        }
    })
&lt;/script&gt;
</code></pre><p>At this point, you can do whatever it is the theme allows you to do to overwrite the variant ID of the request to /cart/add.js, probably through a formData object.</p><hr><h2 id=thoughts--considerations>Thoughts & Considerations</h2><p>Thanks to Shopify&rsquo;s string encoding filters, we can use base64 for stuff like this, or even sha256 if you&rsquo;re passing sensitive information like <a href=https://bashr.me/articles/password-protected-pages-without-locksmith/>passwords</a></p><p>I mean the possibilities are almost endless, and this hacky method of using collection.filters.first.url_to_remove is just Shopify-breaking, in my opinion</p><hr><h2 id=conclusion>Conclusion</h2><p>I hope you found this interesting. Formulating such a hackky solution is only possible after years of experience with the Shopify platform.</p><p>If you have a unique problem or requirement that you need created on the Shopify platform, you are free to contact me at any time, and I&rsquo;ll be sure to respond :)</p><p><a href=https://bashr.me/contact>Let me know your thoughts!</a></p><hr><h3 id=thanks-for-reading>Thanks for reading!</h3></div></div></div></div><div class="d-none d-lg-block col-lg-4"><div class="position-sticky d-flex flex-column justify-content-between top-0 pt-3 pt-lg-5 points-container"><div class="pt-5 pb-5 pb-lg-0 pt-lg-5"></div></div></div></div></section><section id=section-contact-cta class="px-4 px-lg-0 container-fluid"><div class="row justify-content-center"><div class="col-lg-9 text-md-center" style=--rgb-shape-color:var(--bs-primary-rgb)><h2><span class="display-0 d-sm-inline d-none fw-bold">Have an interesting Shopify project in mind?</span>
<span class="display-1 d-inline d-sm-none fw-bold">Have an interesting Shopify project in mind?</span></h2><div><span class="fs-3 text-secondary"></span></div></div></div><div class="row pt-5 justify-content-center mt-md-5"><div class="col-md-8 px-md-5 cap-md-5 cap-3 d-flex align-items-md-center flex-column flex-lg-row text-md-center justify-content-md-center"><a class="btn fw-bold btn-lg btn-dark" href=/contact/>Contact</a><div class="d-flex justify-content-center cap-4 cap-md-5 flex-wrap my-4 my-md-0"><a target=_blank href=https://github.com/bashrj><svg fill="#f8f9fa" width="38" height="38" viewBox="0 0 24 24"><path d="M12 0C5.374.0.0 5.373.0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931.0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176.0.0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221.0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg>
</a><a target=_blank href=https://www.upwork.com/freelancers/~011f77595b7d445e07><svg width="38" height="38" viewBox="0 0 200 200" preserveAspectRatio="xMidYMid"><path d="M140.107 96.628c-8.321.0-16.118-3.523-23.202-9.258l1.725-8.096.075-.3c1.536-8.62 6.409-23.089 21.402-23.089 11.244.0 20.39 9.146 20.39 20.39-.038 11.207-9.183 20.353-20.39 20.353zm0-61.395c-19.154.0-33.996 12.444-40.03 32.909-9.221-13.831-16.193-30.435-20.278-44.416H59.184v53.636c0 10.57-8.621 19.19-19.191 19.19s-19.19-8.62-19.19-19.19V23.726H.186v53.636c-.075 21.965 17.804 39.993 39.768 39.993 21.965.0 39.844-18.028 39.844-39.993v-8.995c4.01 8.358 8.92 16.791 14.88 24.288l-12.632 59.37h21.103l9.145-43.066c8.021 5.135 17.242 8.359 27.812 8.359 22.601.0 41.005-18.516 41.005-41.118.0-22.564-18.404-40.967-41.005-40.967z" fill="#f8f9fa"/></svg>
</a><a target=_blank href=https://www.linkedin.com/in/bashrj/><svg fill="#f8f9fa" width="38" height="38" viewBox="0 0 24 24"><path d="M19 0H5C2.239.0.0 2.239.0 5v14c0 2.761 2.239 5 5 5h14c2.762.0 5-2.239 5-5V5c0-2.761-2.238-5-5-5zM8 19H5V8h3v11zM6.5 6.732c-.966.0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zM20 19h-3v-5.604c0-3.368-4-3.113-4 0V19h-3V8h3v1.765c1.396-2.586 7-2.777 7 2.476V19z"/></svg>
</a><a target=_blank href=https://freelancer.com/u/bashrj><svg width="38" height="38" viewBox="-.23 0 97.266 72.333"><path d="M56.897.0l6.624 9.29L97.036.0M22.075 72.333l18.13-17.725-10.912-11.71M54.152.0l-9.69 8.738 16.298.608M16.482.0l3.48 7.133 19.18 1.195M26.75 36.986l14.17-26.434L-.23 8.328M28.4 38.662 41.785 53.04 56.55 38.567l4.582-26.957-17.993-.918" fill="#f8f9fa"/></svg>
</a><a target=_blank href=https://medium.com/@bashrj><svg viewbox="0 0 24 24" fill="#f8f9fa" width="38" height="38" fill-rule="evenodd" clip-rule="evenodd"><path d="M2.846 6.887c.03-.295-.083-.586-.303-.784l-2.24-2.7V3h6.958l5.378 11.795L17.367 3H24v.403L22.084 5.24c-.165.126-.247.333-.213.538v13.498c-.034.204.048.411.213.537l1.871 1.837v.403h-9.412v-.403l1.939-1.882c.19-.19.19-.246.19-.537V8.321l-5.389 13.688h-.728l-6.275-13.688v9.174c-.052.385.076.774.347 1.052l2.521 3.058v.404h-7.148v-.404l2.521-3.058c.27-.279.39-.67.325-1.052V6.887z"/></svg></a></div></div></div></section><script async src=https://bashr.me/js/prism.js></script></main><footer><div class="bg-darker pt-0 pt-md-5 pb-5"><div class="container ms-0 ms-md-auto py-4 py-md-5 px-4 px-sm-5 px-xxl-0"><div class="row cap-5 cap-md-0"><div class="col-md-6 col-lg-4 col-xl-4" style=--rgb-shadow-color:var(--bs-primary-rgb)><div class="d-flex flex-column cap-md-2 cap-2"><a href=/ style=min-height:30px><span class="d-inline d-md-none grad display-5 fw-bold">&lt;/ B A S H R . M E>
</span><span class="d-none d-md-inline grad h1 fw-bold">&lt;/ B A S H R . M E></span></a><h2 class="display-6 fw-bold">Full Stack Web Developer</h2><h6 class="text-secondary h4 fw-normal">Last updated: Feb 13, 2025</h6></div></div><div class="col-md-6 col-lg-4 col-xl-4 mt-3 mt-lg-0"><h2 class="fw-bold pb-4 display-6">Works & Projects</h2><nav><ul class="list-unstyled ps-0 d-flex flex-column cap-md-4 cap-3"><li class="lh-1 d-flex align-items-center"><div class=w-100><a class="fs-2 ellipsis w-100" href=/projects/made-by-pivot/><span class=grad>> </span>Made by Pivot | Project Case S...</a></div></li><li class="lh-1 d-flex align-items-center"><div class=w-100><a class="fs-2 ellipsis w-100" href=/projects/marc-gebauer/><span class=grad>> </span>Marc Gebauer Lifestyle | Proje...</a></div></li><li class="lh-1 d-flex align-items-center"><div class=w-100><a class="fs-2 ellipsis w-100" href=/projects/prestige-titles-pdf-generator/><span class=grad>> </span>Prestige Titles PDF Generator ...</a></div></li><li class="lh-1 d-flex align-items-center"><div class=w-100><a class="fs-2 ellipsis w-100" href=/projects/winslow-style/><span class=grad>> </span>Winslow Style Tailoring | Proj...</a></div></li></ul></nav></div><div class="col-md-6 col-lg-4 col-xl-3 mt-md-5 pt-md-5 mt-lg-0 pt-lg-0"><h2 class="fw-bold pb-4 display-6">Where to find me</h2><nav><ul class="list-unstyled ps-0 d-flex flex-column cap-3"><li class="lh-1 d-flex cap-3 align-items-center"><svg fill="#f8f9fa" width="28" viewBox="0 0 24 24"><path d="M12 0C5.374.0.0 5.373.0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931.0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176.0.0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221.0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg><div><a target=_blank class="text-light fs-2" href=https://github.com/bashrj>Github</a></div></li><li class="lh-1 d-flex cap-3 align-items-center"><svg width="28" viewBox="0 0 200 200" preserveAspectRatio="xMidYMid"><path d="M140.107 96.628c-8.321.0-16.118-3.523-23.202-9.258l1.725-8.096.075-.3c1.536-8.62 6.409-23.089 21.402-23.089 11.244.0 20.39 9.146 20.39 20.39-.038 11.207-9.183 20.353-20.39 20.353zm0-61.395c-19.154.0-33.996 12.444-40.03 32.909-9.221-13.831-16.193-30.435-20.278-44.416H59.184v53.636c0 10.57-8.621 19.19-19.191 19.19s-19.19-8.62-19.19-19.19V23.726H.186v53.636c-.075 21.965 17.804 39.993 39.768 39.993 21.965.0 39.844-18.028 39.844-39.993v-8.995c4.01 8.358 8.92 16.791 14.88 24.288l-12.632 59.37h21.103l9.145-43.066c8.021 5.135 17.242 8.359 27.812 8.359 22.601.0 41.005-18.516 41.005-41.118.0-22.564-18.404-40.967-41.005-40.967z" fill="#f8f9fa"/></svg><div><a target=_blank class="text-light fs-2" href=https://www.upwork.com/freelancers/~011f77595b7d445e07>Upwork</a></div></li><li class="lh-1 d-flex cap-3 align-items-center"><svg fill="#f8f9fa" width="28" viewBox="0 0 24 24"><path d="M19 0H5C2.239.0.0 2.239.0 5v14c0 2.761 2.239 5 5 5h14c2.762.0 5-2.239 5-5V5c0-2.761-2.238-5-5-5zM8 19H5V8h3v11zM6.5 6.732c-.966.0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zM20 19h-3v-5.604c0-3.368-4-3.113-4 0V19h-3V8h3v1.765c1.396-2.586 7-2.777 7 2.476V19z"/></svg><div><a target=_blank class="text-light fs-2" href=https://www.linkedin.com/in/bashrj/>LinkedIn</a></div></li><li class="lh-1 d-flex cap-3 align-items-center"><svg width="28" viewBox="-.23 0 97.266 72.333"><path d="M56.897.0l6.624 9.29L97.036.0M22.075 72.333l18.13-17.725-10.912-11.71M54.152.0l-9.69 8.738 16.298.608M16.482.0l3.48 7.133 19.18 1.195M26.75 36.986l14.17-26.434L-.23 8.328M28.4 38.662 41.785 53.04 56.55 38.567l4.582-26.957-17.993-.918" fill="#f8f9fa"/></svg><div><a target=_blank class="text-light fs-2" href=https://freelancer.com/u/bashrj>Freelancer</a></div></li><li class="lh-1 d-flex cap-3 align-items-center"><svg viewbox="0 0 24 24" fill="#f8f9fa" width="28" fill-rule="evenodd" clip-rule="evenodd"><path d="M2.846 6.887c.03-.295-.083-.586-.303-.784l-2.24-2.7V3h6.958l5.378 11.795L17.367 3H24v.403L22.084 5.24c-.165.126-.247.333-.213.538v13.498c-.034.204.048.411.213.537l1.871 1.837v.403h-9.412v-.403l1.939-1.882c.19-.19.19-.246.19-.537V8.321l-5.389 13.688h-.728l-6.275-13.688v9.174c-.052.385.076.774.347 1.052l2.521 3.058v.404h-7.148v-.404l2.521-3.058c.27-.279.39-.67.325-1.052V6.887z"/></svg><div><a target=_blank class="text-light fs-2" href=https://medium.com/@bashrj>Medium</a></div></li></ul></nav></div><div class="col-md-6 col-lg-4 col-xl-4 d-none d-lg-block" style=--rgb-shadow-color:var(--bs-primary-rgb)></div><div class="col-md-6 col-lg-4 col-xl-4 mt-md-5 pt-md-5 mt-lg-0 pt-lg-0"><h2 class="fw-bold pb-4 display-6">Recent Articles</h2><nav><ul class="list-unstyled ps-0 d-flex flex-column cap-md-4 cap-3"><li class="lh-1 d-flex align-items-center"><div class=w-100><a class="ellipsis w-100 fs-2" href=/articles/custom-url-parameters-using-liquid/><span class=grad>> </span>Breaking Shopify with custom U...</a></div></li><li class="lh-1 d-flex align-items-center"><div class=w-100><a class="ellipsis w-100 fs-2" href=/articles/password-protected-pages-without-locksmith/><span class=grad>> </span>How to password protect pages ...</a></div></li><li class="lh-1 d-flex align-items-center"><div class=w-100><a class="ellipsis w-100 fs-2" href=/articles/maximizing-your-shopify-stores-search-engine-how-to-improve-search-results-to-compete-with-aipowered-apps/><span class=grad>> </span>Maximizing Your Shopify Store'...</a></div></li><li class="lh-1 d-flex align-items-center"><div class=w-100><a class="ellipsis w-100 fs-2" href=/articles/shopify-liquid-template-language-a-comprehensive-guide-for-non-tech-savvy-merchants-and-beginners/><span class=grad>> </span>Shopify Liquid for Non-Tech-Sa...</a></div></li><li class="lh-1 d-flex align-items-center"><div class=w-100><a class="ellipsis w-100 fs-2" href=/articles/quick-dirty-instagram-feed-your-shopify-store/><span class=grad>> </span>How to create a quick Instagra...</a></div></li><li class="lh-1 d-flex align-items-center"><div class=w-100><a class="ellipsis w-100 fs-2" href=/articles/improve-your-shopify-stores-server-response-time-using-ajax-cart-api/><span class=grad>> </span>How to improve your Shopify st...</a></div></li></ul></nav></div></div></div></div></footer><script src="https://www.googletagmanager.com/gtag/js?id=G-LC397KJ6MG"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-LC397KJ6MG")</script></body></html>